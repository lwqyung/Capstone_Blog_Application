<%- include("partials/header.ejs") %>

<% if ( locals.entry ) { %>
    <form action="/update" method="post" id="edit-entry">
        <div class="container col-xxl-8 px-4 border-top">
            <div class="row flex-lg-row align-items-center g-5 py-5">
                <div class="col-lg-12">
                    <h2><%= entry.getTitle() %></h2>
                </div>            
                <div class="col-lg-12 mt-3">
                    <p><label for="story">Change your story:</label>
                    <textarea id="story" name="story" form="edit-entry"><%= entry.entry %></textarea>
                    </p>
                </div>
                <div class="col-lg-12 mt-3">
                    <input type="hidden" value="<%= entry.getTitle() %>" id="entryTitle" name="entryTitle" />
                    <input type="hidden" value="<%= entry.getCreatedOnISO() %>" id="entryCreationDate" name="entryCreationDate" />
                    <input type="submit" class="btn btn-primary rounded-pill px-3" type="button" id="update" value="Save updated entry" >
                    <input type="submit" form="delete-entry" class="btn btn-danger rounded-pill px-3" type="button" id="delete" value="Delete current entry" >
                    <a href="/" class="btn btn-secondary rounded-pill px-3" type="button" id="cancel">Cancel</a>
                </div>
            </div>
        </div>
    </form>
    <form action="/delete" method="get" id="delete-entry">
        <input type="hidden" value="<%= entry.getCreatedOnISO() %>" id="entryCreationDate" name="entryCreationDate" />
    </form>
<% } %>

<%- include("partials/footer.ejs") %>